<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:include="fragments/header :: my-header('Search Results')"></head>
<body>
<nav th:include="fragments/navbar :: my-navbar"></nav>
<div class="indexCategoriesListWrapper">
    <a class="indexEachCategory" th:each="category : ${categories}" th:text="${category.name}" th:href="@{/posts/search(term=${category.name})}"></a>
</div>

<div id="searchResultPageWrapper">

    <div id="emptySearchDiv" th:if="${searchedContent.isEmpty()}">
        <p id="emptySearchedContent"><i class="far fa-frown profileFrownIcon"></i> There are no posts for this category yet. <a th:href="${'/posts/create'}">Get posting!</a></p>
    </div>

    <div th:each="post : ${searchedContent}">

        <div class="searchResultsPagePostWrapper">
            <div class="postPicWrapper">
                <!--<span th:if="${post.user.profilePicture} == null">-->
                <!--<img class="profilePicPostIndex" src="/../images/user.png"/>-->
                <!--</span>-->
                <!--<span th:if="${post.user.profilePicture} != null">-->
                <!--<img class="profilePicPostIndex" th:src="@{'/uploads/' + ${post.user.profilePicture}}"/>-->
                <!--</span>-->
            </div>

            <div class="postInfoWrapper">
                <ul>
                    <li>
                        <h4 th:text="${post.title}" class="postTitleIndexPage"></h4>

                        <i class="fas fa-thumbs-up postUpVoteIconIndex"></i>
                        <h5 class="postVoteCountIndex" th:text="${post.voteCount()}"></h5>
                        <i class="fas fa-comments postCommentIconIndex"></i>
                        <h5 class="postCommentSizeIndex" th:text="${post.getComments().size()}"></h5>
                        <div class="post-tags">
                            <a class="post-tag" th:each="tag : ${post.getCategories()}" th:text="${tag.name}" th:href="@{/posts(tagged=${tag.name})}"></a>
                        </div>
                        <h5><a class="postedByNameTextIndex" th:href="@{/profile/{id}(id=${post.user.id})}">
                            <span th:text="${post.user.username}"></span></a>
                            <span class="postedByDateTime" th:text="${#temporals.format(post.date,  'h:mm a')}"></span>
                            <span class="postedByDate" th:text="${#temporals.monthNameShort(post.date)}"></span>
                            <span class="postedByDate" th:text="${#temporals.day(post.date)}"></span>
                            <span class="postedByDate" th:text="${#temporals.year(post.date)}"></span>
                        </h5>

                        <div class="gradientBox">
                            <div class="postDescription">
                                <p th:utext="${post.htmlDescription}"></p>
                                <!--<div th:each="image : ${post.postImages}">-->
                                <!--<img th:src="${image.path}"/>-->
                                <!--</div>-->
                            </div>

                            <p>
                                <i class="fas fa-hand-point-right fa-read-more"></i>
                                <a class="read-more" th:href="@{/posts/{id}(id=${post.id})}">continue reading...</a>
                            </p>
                        </div>
                        <!--<h5 id="createdDate">created: <span th:text="${#temporals.format(post.date, 'MM-dd-yyyy, h:mm a')}"></span></h5>-->
                    </li>
                    <!--// wanna use a button to send to edit here? -->
                    <!--<button> <a th:href="@{/posts/{id}/edit(id=${post.id})}"  th:text="${'Edit: ' + post.title}"></a></button>-->
                </ul>
            </div>
            <!--<hr class="commentHR"/>-->
        </div>
    </div>

</div>

<footer th:include="fragments/footer :: my-footer"></footer>
</body>
</html>